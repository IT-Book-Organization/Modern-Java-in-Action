# Chapter3. λλ‹¤ ν‘ν„μ‹

λ™μ‘ νλΌλ―Έν„°ν™”λ¥Ό μ΄μ©ν•΄μ„ λ³€ν™”ν•λ” μ”κµ¬μ‚¬ν•­μ— ν¨κ³Όμ μΌλ΅ λ€μ‘ν•λ” μ½”λ“λ¥Ό κµ¬ν„ν•  μ μκ³ , μ •μν• μ½”λ“ λΈ”λ΅μ„ λ‹¤λ¥Έ λ©”μ„λ“λ΅ μ „λ‹¬ν•  μ μλ‹¤.

μµλ… ν΄λμ¤λ΅ λ‹¤μ–‘ν• λ™μ‘μ„ κµ¬ν„ν•  μ μμ§€λ§ μ½”λ“κ°€ κΉ”λ”ν•μ§€ μ•κ³ , κΉ”λ”ν•μ§€ μ•μ€ μ½”λ“λ” λ™μ‘ νλΌλ―Έν„°λ¥Ό μ‹¤μ „μ— μ μ©ν•λ” κ²ƒμ„ λ§‰λ”λ‹¤.

κΉ”λ”ν• μ½”λ“λ΅ λ™μ‘μ„ κµ¬ν„ν•κ³  μ „λ‹¬ν•λ” μλ°” 8μ μƒλ΅μ΄ κΈ°λ¥μΈ λλ‹¤ ν‘ν„μ‹μ€ μµλ… ν΄λμ¤μ²λΌ μ΄λ¦„μ΄ μ—†λ” ν•¨μλ©΄μ„ λ©”μ„λ“λ¥Ό μΈμλ΅ μ „λ‹¬ν•  μ μλ‹¤.

<br/>

## 3.1 λλ‹¤λ€ λ¬΄μ—‡μΈκ°€?


> π’΅ **λλ‹¤ ν‘ν„μ‹**μ€ λ©”μ„λ“λ΅ μ „λ‹¬ν•  μ μλ” μµλ… ν•¨μλ¥Ό λ‹¨μν™”ν• κ²ƒμ΄λΌκ³  ν•  μ μλ‹¤.

<br/>

### λλ‹¤μ νΉμ§•

- μµλ…
    - λ³΄ν†µμ λ©”μ„λ“μ™€ λ‹¬λ¦¬ μ΄λ¦„μ΄ μ—†λ‹¤.
    - λ©”μ„λ“λ¥Ό λ”°λ΅ μ •μν•μ§€ μ•μ•„λ„ λμ–΄ κµ¬ν„ν•΄μ•Όν•  μ½”λ“μ— λ€ν• κ±±μ •κ±°λ¦¬κ°€ μ¤„μ–΄λ“ λ‹¤.
- ν•¨μ
    - λλ‹¤λ” λ©”μ„λ“μ²λΌ νΉμ • ν΄λμ¤μ— μΆ…μ†λμ§€ μ•μΌλ―€λ΅ ν•¨μλΌκ³  λ¶€λ¥Έλ‹¤.
    - λ©”μ„λ“μ²λΌ νλΌλ―Έν„° λ¦¬μ¤νΈ, λ°”λ””, λ°ν™ ν•μ‹, κ°€λ¥ν• μμ™Έ λ¦¬μ¤νΈλ¥Ό ν¬ν•¨ν•λ‹¤.
- μ „λ‹¬
    - λλ‹¤ ν‘ν„μ‹μ„ λ©”μ„λ“ μΈμλ΅ μ „λ‹¬ν•κ±°λ‚ λ³€μλ΅ μ €μ¥ν•  μ μλ‹¤.
- κ°„κ²°μ„±
    - μµλ… ν΄λμ¤μ²λΌ λ§μ€ μμ§κµ¬λ ν• μ½”λ“λ¥Ό κµ¬ν„ν•΄μ•Όν•  ν•„μ”κ°€ μ—†λ‹¤.

λλ‹¤λ¥Ό μ΄μ©ν•λ©΄ λ™μ‘ νλΌλ―Έν„°λ¥Ό μ΄μ©ν•  λ• μµλ… ν΄λμ¤ λ“± νμ— λ°•ν μ½”λ“λ¥Ό κµ¬ν„ν•  ν•„μ”κ°€ μ—†κ³ , λ” μ‰½κ² κµ¬ν„ν•  μ μλ‹¤.

κ²°κ³Όμ μΌλ΅ μ½”λ“κ°€ κ²¬κ²°ν•κ³  μ μ—°ν•΄μ§„λ‹¤.

<br/>

### λλ‹¤ ν•μ‹

```
// λΈ”λ΅ μ¤νƒ€μΌ
(νλΌλ―Έν„° λ¦¬μ¤νΈ) -> {λλ‹¤ λ°”λ””};

or
// ν‘ν„μ‹ μ¤νƒ€μΌ
(νλΌλ―Έν„° λ¦¬μ¤νΈ) -> λλ‹¤ λ°”λ””;

e.g.
(Apple a) -> a.getColor() == Color.RED
```

- νλΌλ―Έν„° λ¦¬μ¤νΈ
    - ν•¨μμ νλΌλ―Έν„° κ°’μ„ μ „λ‹¬ν•λ‹¤.
- ν™”μ‚΄ν‘
    - λλ‹¤μ νλΌλ―Έν„° λ¦¬μ¤νΈμ™€ λ°”λ””λ¥Ό κµ¬λ¶„ν•λ‹¤.
- λλ‹¤ λ°”λ””
    - λ°ν™κ°’μ— ν•΄λ‹Ήν•λ” ν‘ν„μ‹μ΄λ‹¤.
    - λ°ν™κ°’μ΄ μ—†λ‹¤λ©΄ voidλ¥Ό λ°ν™ν•λ‹¤.
    - λΈ”λ΅ μ¤νƒ€μΌμΌ κ²½μ° (μ„μ—μ„ μ²«λ²μ§Έ) λ‚΄λ¶€μ— return ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•μ—¬ λ°ν™κ°’μ„ λ‚νƒ€λ‚΄μ•Όν•λ‹¤.
    - ν‘ν„μ‹ μ¤νƒ€μΌμΌ κ²½μ° (μ„μ—μ„ λ‘λ²μ§Έ) ν‘ν„μ‹μ΄ returnμ„ ν•¨μ¶•ν•κ³  μμ–΄ ν‘ν„μ‹μ κ°’μ΄ λ°ν™ κ°’μ΄ λλ‹¤.

<br/>

### μ ν¨ν• λλ‹¤ ν‘ν„μ‹ μ

```
// ν‘ν„μ‹ μ¤νƒ€μΌ
// String ν•μ‹μ νλΌλ―Έν„°λ¥Ό κ°–κ³ ,ν‘ν„μ‹μ κ°’μ΄ intν•μ΄λ―€λ΅ int κ°’μ„ λ°ν™ν•λ‹¤.
(String s) -> s.length() 

// ν‘ν„μ‹ μ¤νƒ€μΌ
// κ°μ²΄λ¥Ό νλΌλ―Έν„°λ΅ κ°–κ³ , boolean κ°’μ„ λ°ν™ν•λ‹¤.
(Apple a) -> a.getWeight() > 150

// λΈ”λ΅ μ¤νƒ€μΌ
// νλΌλ―Έν„° λ¦¬μ¤νΈλ¥Ό λ°›μ•„μ¨λ‹¤.
// λΈ”λ΅μ΄ λ°ν™κ°’μ„ κ°–μ§€ μ•μΌλ―€λ΅ voidλ¥Ό λ°ν™ν•λ‹¤.
(int x, int y) -> {
	System.out.println("block : ");
	System.out.println(x + y);
}

// ν‘ν„μ‹ μ¤νƒ€μΌ
// νλΌλ―Έν„°κ°€ μ—†μΌλ©° int 42λ¥Ό λ°ν™ν•λ‹¤.
() -> 42
```

<br/>

## 3.2 μ–΄λ””μ— μ–΄λ–»κ² λλ‹¤λ¥Ό μ‚¬μ©ν• κΉ?

**ν•¨μν• μΈν„°νμ΄μ¤λΌλ” λ¬Έλ§¥μ—μ„ λλ‹¤ ν‘ν„μ‹μ„ μ‚¬μ©ν•  μ μλ‹¤.**

<br/>

### 3.2.1 ν•¨μν• μΈν„°νμ΄μ¤

2μ¥μ—μ„ λ§λ“¤μ—λ `Predicate<T>` κ°€ λ°”λ΅ ν•¨μν• μΈν„°νμ΄μ¤λ‹¤.

```java
interface Predicate<T> {
    boolean test(T t);
}
```

κ°„λ‹¨ν λ§ν•΄ ν•¨μν• μΈν„°νμ΄μ¤λ” μ •ν™•ν ν•λ‚μ μ¶”μƒ λ©”μ„λ“λ¥Ό μ§€μ •ν•λ” μΈν„°νμ΄μ¤λ‹¤.

2μ¥μ—μ„ μ‚΄ν΄λ³Έ μλ°” APIμ ν•¨μν• μΈν„°νμ΄μ¤λ΅ `Comparator`, `Runnable` λ“±μ΄ μλ‹¤.

λλ‹¤ ν‘ν„μ‹μΌλ΅ ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“ κµ¬ν„μ„ μ§μ ‘ μ „λ‹¬ν•  μ μμΌλ―€λ΅ **μ „μ²΄ ν‘ν„μ‹μ„ ν•¨μν• μΈν„°νμ΄μ¤μ μΈμ¤ν„΄μ¤λ΅ μ·¨κΈ‰**(κΈ°μ μ μΌλ΅ λ”°μ§€λ©΄ **ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤μ μΈμ¤ν„΄μ¤**)ν•  μ μλ‹¤.

<br/>

*μ°Έκ³  : μΈν„°νμ΄μ¤λ” λ””ν΄νΈ λ©”μ„λ“λ¥Ό ν¬ν•¨ν•  μ μκ³ , λ””ν΄νΈ λ©”μ„λ“λ¥Ό ν¬ν•¨ν•κ³  μλ‹¤κ³  ν•λ”λΌλ„ μ¶”μƒ λ©”μ„λ“κ°€ ν•λ‚λΌλ©΄ ν•¨μν• μΈν„°νμ΄μ¤μ΄λ‹¤.*

<br/>

### 3.2.2 ν•¨μ λ””μ¤ν¬λ¦½ν„°

ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“ μ‹κ·Έλ‹μ²(λ©”μ„λ“ μ΄λ¦„κ³Ό νλΌλ―Έν„° λ¦¬μ¤νΈμ μ΅°ν•©)λ” λλ‹¤ ν‘ν„μ‹μ μ‹κ·Έλ‹μ²λ¥Ό κ°€λ¦¬ν‚¨λ‹¤.

λλ‹¤ ν‘ν„μ‹μ μ‹κ·Έλ‹μ²λ¥Ό μ„μ ν•λ” λ©”μ„λ“λ¥Ό **ν•¨μ λ””μ¤ν¬λ¦½ν„°**λΌκ³  λ¶€λ¥Έλ‹¤.

μλ¥Ό λ“¤μ–΄, `Runnable` μΈν„°νμ΄μ¤μ μ μΌν• μ¶”μƒ λ©”μ„λ“ `run`μ€ μΈμμ™€ λ°ν™κ°’μ΄ μ—†μΌλ―€λ΅ `Runnable` μΈν„°νμ΄μ¤λ” μΈμμ™€ λ°ν™κ°’μ΄ μ—†λ” μ‹κ·Έλ‹μ²λ΅ μƒκ°ν•  μ μλ‹¤.

ν•¨μν• μΈν„°νμ΄μ¤ `Runnable` μ λ©”μ„λ“ `run`μ€ κ°™μ€ μ‹κ·Έλ‹μ²λ¥Ό κ°–λ” λλ‹¤ ν‘ν„μ‹λ§μ„ μ‚¬μ©ν•  μ μλ‹¤.

<br/>

**λλ‹¤ ν‘ν„μ‹μ€ ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“μ™€ κ°™μ€ μ‹κ·Έλ‹μ²λ¥Ό κ°–λ”λ‹¤.**

<br/>

e.g.

```java
public void process(Runnable r) {
	r.run();
}

// Runnable μΈν„°νμ΄μ¤μ™€ κ°™μ€ μ‹κ·Έλ‹μ²λ¥Ό κ°–λ” λλ‹¤μ‹μ΄ μ¨λ‹¤.
process(() -> System.out.println("ν•¨μν• μΈν„°νμ΄μ¤"));
```

<br/>

### @FunctionalInterfaceλ” λ¬΄μ—‡μΈκ°€?

μƒλ΅μ΄ μλ°” APIλ¥Ό μ‚΄ν΄λ³΄λ©΄ ν•¨μν• μΈν„°νμ΄μ¤μ— @FunctionalInterface μ–΄λ…Έν…μ΄μ…μ΄ μ¶”κ°€λμ–΄ μλ‹¤.

μ΄ μ–΄λ…Έν…μ΄μ…μ€ ν•¨μν• μΈν„°νμ΄μ¤μ„μ„ κ°€λ¦¬ν‚¤λ” μ–΄λ…Έν…μ΄μ…μ΄λ‹¤.

λ§μ•½ μ΄ μ–΄λ…Έν…μ΄μ…μ„ λ¶™μ€λ”λ° ν•¨μν• μΈν„°νμ΄μ¤κ°€ μ•„λ‹λΌλ©΄ μ¦‰, μ¶”μƒ λ©”μ„λ“κ°€ ν•λ‚λ³΄λ‹¤ λ§λ‹¤λ©΄ μ—λ¬κ°€ λ°μƒν•λ‹¤.

<br/>

## 3.3 λλ‹¤ ν™μ© : μ‹¤ν–‰ μ–΄λΌμ΄λ“ ν¨ν„΄

μ‹¤μ  μμ›μ„ μ²λ¦¬ν•λ” μ½”λ“λ¥Ό μ„¤μ •κ³Ό μ •λ¦¬ λ‘ κ³Όμ •μ΄ λ‘λ¬μ‹Έλ” ν•νƒλ¥Ό κ°–λ”λ‹¤.

μ‰½κ² λ§ν•μλ©΄, ν•λ‚μ λ΅μ§μ„ μν–‰ν• λ• μ²«λ²μ§Έλ΅ μ΄κΈ°ν™”/μ¤€λΉ„ μ½”λ“κ°€ μν–‰λκ³  λ§μ§€λ§‰μ— μ •λ¦¬/λ§λ¬΄λ¦¬ μ½”λ“κ°€ μ‹¤ν–‰λλ‹¤.

κ·Έλ¦¬κ³  κ·Έ μ‚¬μ΄μ— μ‹¤μ  μμ›μ„ μ²λ¦¬ν•λ” μ½”λ“λ¥Ό μ‹¤ν–‰ν•λ” κ²ƒμ΄λ‹¤.

μ΄λ ‡κ² **μ‹¤ν–‰ μ „ μ¤€λΉ„μ™€ λ§λ¬΄λ¦¬ μ‘μ—…μ΄ μκ³ , κ·Έ μ‚¬μ΄μ— μ–΄λ–¤ μμ›μ„ μ²λ¦¬ν•λ” μ‘μ—…μ΄ μλ” ν¨ν„΄μ„ μ‹¤ν–‰ μ–΄λΌμ΄λ“ ν¨ν„΄**μ΄λΌκ³  ν•λ‹¤.

<br/>

μ‹¤ν–‰ μ–΄λΌμ΄λ“ ν¨ν„΄μ„ κµ¬ν„ν•΄λ³΄μ.

```java
public String processFile() throw IOException {
	// try-with-resources 
	// try λ¬Έμ΄ λλ‚λ©΄ μμ›λ„ λ°λ‚©ν•λ‹¤.
	try (
      BufferedReader br =new BufferedReader(new FileReader("test.txt"))) {
				return br.readLine();// μ‹¤μ  μ‘μ—…μ„ μν–‰
    }
}
```

μ‹¤μ  μμ›μ„ μ²λ¦¬ν•λ” μ½”λ“λ” λ°”λ€” μ μμ§€λ§, μμ›μ„ μ¤€λΉ„ν•κ³  μ •λ¦¬ν•λ” μ½”λ“λ” λ³€ν•μ§€ μ•μΌλ―€λ΅ λ™μ‘ νλΌλ―Έν„°ν™”λ¥Ό μ μ©ν•  μ μλ‹¤.

<br/>

### 3.3.1 1λ‹¨κ³„ : **λ™μ‘ νλΌλ―Έν„°ν™”**

μ„ μ½”λ“μ—μ„λ” νμΌμ ν•μ¤„μ”© μ½μ–΄λ“¤μΈλ‹¤.

λ§μ•½ νμΌμ„ ν•λ²μ— λ‘μ¤„μ„ μ½μΌλ ¤λ©΄ (μ‹¤μ  μ‘μ—…μ„ μμ •ν•λ ¤λ©΄) κΈ°μ΅΄μ μ„¤μ •/μ •λ¦¬ κ³Όμ •μ€ μ¬μ‚¬μ©ν•κ³  μ‹¤μ  μ‘μ—…μ„ μν–‰ν•λ” ν• μ¤„μ μ½”λ“λ§ μμ •ν•λ©΄ λλ‹¤.

μ΄μ  μµμ™ν•κ² μ§€λ§, processFileμ λ³€ν•λ” λ™μ‘μ„ νλΌλ―Έν„°ν™” μ‹ν‚¬ μ μλ‹¤.

<br/>

processFile λ©”μ„λ“μ— λ™μ‘μ„ λλ‹¤λ΅ μ „λ‹¬

```java
String result = processFile((BufferedReader br) -> br.readLine() + br.readLine());

```

<br/>

### 3.3.2 2λ‹¨κ³„ : **ν•¨μν• μΈν„°νμ΄μ¤**

ν•¨μν• μΈν„°νμ΄μ¤ μλ¦¬μ— λλ‹¤λ¥Ό μ‚¬μ©ν•  μ μμΌλ―€λ΅ `BufferedReader -> String`κ³Ό `IOException`μ„ λμ§ μ μλ” μ‹κ·Έλ‹μ²μ™€ μΌμΉν•λ” ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤μ–΄μ•Ό ν•λ‹¤.

```java
@FunctionalInterface
public interface BufferedReaderProcessor {
  String process(BufferedReader b)throws IOException;
}

// μ„ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό processFile λ©”μ„λ“μ μΈμλ΅ μ „λ‹¬ν•λ‹¤.
public String processFile(BufferedReaderProcessor p)throws IOException {
  ...
}
```

<br/>

### 3.3.3 3λ‹¨κ³„ : λ™μ‘ μ‹¤ν–‰

λλ‹¤ ν‘ν„μ‹μΌλ΅ ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“ κµ¬ν„μ„ μ§μ ‘ μ „λ‹¬ν•  μ μμΌλ©°, μ „λ‹¬λ μ½”λ“λ” ν•¨μν• μΈν„°νμ΄μ¤μ μΈμ¤ν„΄μ¤λ΅ μ „λ‹¬λ μ½”λ“μ™€ κ°™μ€ λ°©μ‹μΌλ΅ μ²λ¦¬ν•λ‹¤.

```java
public String processFile(BufferedReaderProcessor p)throws IOException {
	try (
    BufferedReader br =new BufferedReader(new FileReader("test.txt"))) {
			return p.process(br);
    }
  )
}
```

<br/>

### 3.3.4 4λ‹¨κ³„ : λλ‹¤ μ „λ‹¬

μ΄μ  λλ‹¤λ¥Ό μ‚¬μ©ν•΄μ„ λ‹¤μ–‘ν• λ™μ‘μ„ processFile λ©”μ„λ“λ΅ μ „λ‹¬ν•  μ μλ‹¤.

```java
String oneLine = processFile((BufferedReader br) -> br.readLine());
String twoLines = processFile((BufferedReader br) -> br.readLine() + br.readLine());

```

<br/>

## 3.4 ν•¨μν• μΈν„°νμ΄μ¤ μ‚¬μ©

λ‹¤μ–‘ν• λλ‹¤ ν‘ν„μ‹μ„ μ‚¬μ©ν•λ ¤λ©΄ κ³µν†µμ ν•¨μ λ””μ¤ν¬λ¦½ν„°λ¥Ό κΈ°μ ν•λ” ν•¨μν• μΈν„°νμ΄μ¤ μ§‘ν•©μ΄ ν•„μ”ν•λ‹¤.

μλ°” 8 λΌμ΄λΈλ¬λ¦¬ μ„¤κ³„μλ“¤μ€ `java.util.function` ν¨ν‚¤μ§€λ΅ μ—¬λ¬ κ°€μ§€ μƒλ΅μ΄ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•λ‹¤.

<br/>

### 3.4.1 Predicate<T>

`Predicate` μΈν„°νμ΄μ¤λ” `test`λΌλ” μ¶”μƒ λ©”μ„λ“λ¥Ό μ •μν•λ©° `test`λ” μ λ„λ¦­ ν•μ‹ `T`μ κ°μ²΄λ¥Ό μΈμλ΅ λ°›μ•„ λ¶λ¦¬μ–Έμ„ λ°ν™ν•λ‹¤.

`T` ν•μ‹μ κ°μ²΄λ¥Ό μ‚¬μ©ν•λ” λ¶λ¦¬μ–Έ ν‘ν„μ‹μ΄ ν•„μ”ν• μƒν™©μ—μ„ `Predicate` μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•  μ μλ‹¤.

<br/>

e.g.

```java
@FunctionalInterface
public interface Predicate<T> {
    boolean test(T t);
}

public class Main {
    public static void main(String[] args) {
        List<String> strings = Arrays.asList("λ¨λ","","μλ°”","μΈ","","μ•΅μ…");
        Predicate<String> nonEmptyStringPredicate = (String s) -> !s.isEmpty();
        List<String> nonEmpty = filter(strings, nonEmptyStringPredicate);
    }

    public static <T> List<T> filter(List<T> list, Predicate<T> p) {
        List<T> result = new ArrayList<>();
        for (T e : list) {
            if (p.test(e)) {
                result.add(e);
            }
        }
        return result;
    }
}
```

<br/>

### 3.4.2 Consumer<T>

`Consumer` μΈν„°νμ΄μ¤λ” μ λ„λ¦­ ν•μ‹ `T` κ°μ²΄λ¥Ό λ°›μ•„μ„ `void`λ¥Ό λ°ν™ν•λ” `accept` λΌλ” μ¶”μƒ λ©”μ„λ“λ¥Ό μ •μν•λ‹¤.

`T` ν•μ‹μ κ°μ²΄λ¥Ό μΈμλ΅ λ°›μ•„μ„ μ–΄λ–¤ λ™μ‘μ„ μν–‰ν•κ³  μ‹¶μ„ λ• `Consumer` μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•  μ μλ‹¤.

<br/>

e.g.

```java
@FunctionalInterface
public interface Consumer<T> {
    void accept(T t);
}

public class Main {
    public static void main(String[] args) {
        forEach(
                Arrays.asList(1,2,3,4,5),
                (Integer i) -> System.out.println(i)
        );
    }

    public static <T> void forEach(List<T> list, Consumer<T> c) {
        for (T t : list) {
            c.accept(t);
        }
    }
}
```

<br/>

### 3.4.3 Function<T, R>

`Function<T, R>` μΈν„°νμ΄μ¤λ” μ λ„λ¦­ ν•μ‹ Tλ¥Ό μΈμλ΅ λ°›μ•„μ„ μ λ„λ¦­ ν•μ‹ `R` κ°μ²΄λ¥Ό λ°ν™ν•λ” μ¶”μƒ λ©”μ„λ“ `apply`λ¥Ό μ •μν•λ‹¤.

μ…λ ¥μ„ μ¶λ ¥μΌλ΅ λ§¤ν•‘ν•λ” λλ‹¤λ¥Ό μ •μν•  λ• `Function` μΈν„°νμ΄μ¤λ¥Ό ν™μ©ν•  μ μλ‹¤.

```java
@FunctionalInterface
public interface Function<T, R> {
    R apply(T t);
}

public class Main {
    public static void main(String[] args) {
        List<Integer> integerList = map(
                Arrays.asList("λ¨λ", "", "μλ°”", "μΈ", "", "μ•΅μ…"),
                (String s) -> s.length()
        );
    }

    public static <T, R> List<R> map(List<T> list, Function<T, R> f) {
        List<R> result = new ArrayList<>();
        for (T t : list) {
            result.add(f.apply(t));
        }
        return result;
    }
}
```

<br/>

### κΈ°λ³Έν• νΉν™”

μ λ„λ¦­ νλΌλ―Έν„°μ—λ” μ°Έμ΅°ν•λ§ μ‚¬μ©ν•  μ μκ³ , μ„μ μΈν„°νμ΄μ¤λ“¤μ—λ” κΈ°λ³Έν• νƒ€μ…μ„ μ‚¬μ©ν•  μ μ—†λ‹¤.

μλ°”μ—μ„λ” κΈ°λ³Έν•μ„ μ°Έμ΅°ν•μΌλ΅ λ³€ν™ν•λ” κΈ°λ¥μ„ μ κ³µν•λ‹¤.

μ΄ κΈ°λ¥μ„ **λ°•μ‹±**μ΄λΌκ³  ν•κ³ , μ°Έμ΅°ν•μ„ κΈ°λ³Έν•μΌλ΅ λ°ν™ν•λ” λ°λ€ λ™μ‘μ„ **μ–Έλ°•μ‹±**μ΄λΌκ³  ν•λ‹¤.

λ, λ°•μ‹±κ³Ό μ–Έλ°•μ‹±μ΄ μλ™μΌλ΅ μ΄λ£¨μ–΄μ§€λ” **μ¤ν† λ°•μ‹±**μ΄λΌλ” κΈ°λ¥λ„ μ κ³µν•λ‹¤.

ν•μ§€λ§, μ¤ν† λ°•μ‹±μ€ λΉ„μ©μ΄ μ†λ¨λλ‹¤.

λ°•μ‹±ν• κ°’μ€ κΈ°λ³Έν•μ„ κ°μ‚¬λ” λνΌλ©° ν™μ— μ €μ¥λλ‹¤.

λ”°λΌμ„ λ°•μ‹±ν• κ°’μ€ λ©”λ¨λ¦¬λ¥Ό λ” μ†λΉ„ν•λ©° κΈ°λ³Έν•μ„ κ°€μ Έμ¬ λ•λ„ λ©”λ¨λ¦¬λ¥Ό νƒμƒ‰ν•λ” κ³Όμ •μ΄ ν•„μ”ν•λ‹¤.

μλ°” 8μ—μ„λ” κΈ°λ³Έν•μ„ μ…μ¶λ ¥μΌλ΅ μ‚¬μ©ν•λ” μƒν™©μ—μ„ μ¤ν† λ°•μ‹± λ™μ‘μ„ ν”Όν•  μ μλ„λ΅ νΉλ³„ν• λ²„μ „μ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•λ‹¤.

<br/>

e.g.

```java
@FunctionalInterface
public interface IntPredicate {
    boolean test(int t);
}

// λ°•μ‹± λμ§€ μ•μ
IntPredicate evenNumbers = (int i) -> i % 2 == 0;
evenNumbers.test(1000);

// int ν•κ°’μ΄ Integer νƒ€μ…μΌλ΅ μ¤ν† λ°•μ‹± λ¨
Predicate<Integer> oddNumbers = (Integer i) -> i % 2 != 0;
evenNumbers.test(1000);
```

<br/>

### μμ™Έ, λλ‹¤, ν•¨μν• μΈν„°νμ΄μ¤μ κ΄€κ³„

μ§μ ‘ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤λ ¤κ³ ν•  λ•, ν™•μΈλ μμ™Έλ¥Ό μ¶”μƒ λ©”μ„λ“μ— μ΅μ„ μ μλ‹¤.

<br/>

e.g.

```java
@FunctionalInterface
public interface BufferedReaderProcessor {
  String process(BufferedReader b)throws IOException;
}

BufferedReaderProcessor p = (BufferedReader br) -> br.readLine(); 
```

<br/>

κ·Έλ¬λ‚ μ°λ¦¬λ” Function<T, R> ν•μ‹μ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό κΈ°λ€ν•λ” APIλ¥Ό μ‚¬μ©ν•κ³  μκ³ , μ§μ ‘ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤κΈ° μ–΄λ ¤μ΄ μƒν™©μ΄λ‹¤.

μ΄λ¬ν• μƒν™©μ—μ„λ” λλ‹¤ ν‘ν„μ‹μ—μ„ λ…μ‹μ μΌλ΅ ν™•μΈλ μμ™Έλ¥Ό μ΅μ„ μ μλ‹¤.

```java
Function<BufferedReader, String> f = (BufferedReader b) -> {
	try {
		return br.readLine();
	}
	catch(IOException) {
		throw new RuntimeException(e);
	}
}
```

<br/>

## 3.5 ν•μ‹ κ²€μ‚¬, ν•μ‹ μ¶”λ΅ , μ μ•½

### 3.5.1 ν•μ‹ κ²€μ‚¬

λλ‹¤κ°€ μ‚¬μ©λλ” μ½ν…μ¤νΈλ¥Ό μ΄μ©ν•΄μ„ λλ‹¤μ ν•μ‹μ„ μ¶”λ΅ ν•  μ μλ‹¤.

μ–΄λ–¤ μ½ν…μ¤νΈ(μλ¥Ό λ“¤λ©΄ λλ‹¤κ°€ μ „λ‹¬λ  λ©”μ„λ“ νλΌλ―Έν„°λ‚ ν• λ‹Ήλλ” λ³€μ λ“±)μ—μ„ κΈ°λ€λλ” ν‘ν„μ‹μ ν•μ‹μ„ **λ€μƒ ν•μ‹**μ΄λΌκ³  λ¶€λ¥Έλ‹¤.

<br/>

λ‹¤μ λλ‹¤ ν‘ν„μ‹μ„ μ‚¬μ©ν•  λ• μ‹¤μ  μ–΄λ–¤ μΌμ΄ μΌμ–΄λ‚λ”μ§€ ν™•μΈν•΄λ³΄μ.

```java
filter(inventory, a -> a.getWeight() > 150);
```

1. `filter` λ©”μ„λ“(μ½ν…μ¤νΈ)μ μ„ μ–Έμ„ ν™•μΈν•λ‹¤.
2. `filter` λ©”μ„λ“λ” λ‘λ²μ§Έ νλΌλ―Έν„°λ΅ `Predicate<Apple>` ν•μ‹(λ€μƒ ν•μ‹)μ„ κΈ°λ€ν•λ‹¤.
3. `Predicate<Apple>`μ€ `test` μ¶”μƒ λ©”μ„λ“ ν•λ‚λ§ κ°€μ§„ ν•¨μν• μΈν„°νμ΄μ¤λ‹¤.
4. `test` λ©”μ„λ“λ” `Apple`μ„ λ°›μ•„ `boolean`μ„ λ°ν™ν•λ” ν•¨μ λ””μ¤ν¬λ¦½ν„°λ¥Ό λ¬μ‚¬ν•λ‹¤.
5. `filter` λ©”μ„λ“λ΅ μ „λ‹¬λ λλ‹¤λ” μ΄μ™€ κ°™μ€ μ”κµ¬ μ‚¬ν•­μ„ λ§μ΅±ν•΄μ•Όν•λ‹¤.

<br/>

### 3.5.2 κ°™μ€ λλ‹¤, λ‹¤λ¥Έ ν•¨μν• μΈν„°νμ΄μ¤

λ€μƒ ν•μ‹μ΄λΌλ” νΉμ§• λ•λ¬Έμ— **κ°™μ€ λλ‹¤ ν‘ν„μ‹**μ΄λΌλ„ νΈν™λλ” μ¶”μƒ λ©”μ„λ“λ¥Ό κ°€μ§„ **λ‹¤λ¥Έ ν•¨μν• μΈν„°νμ΄**μ¤λ΅ μ‚¬μ©λ  μ μλ‹¤.

μ¦‰, μ„λ΅ λ‹¤λ¥Έ ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“κ°€ κ°™μ€ λ€μƒ ν•μ‹(νλΌλ―Έν„°μ™€ λ°ν™κ°’)μ„ κ°–λ”λ‹¤λ©΄ κ°™μ€ λλ‹¤ ν‘ν„μ‹μ΄ μ‚¬μ©λ  μ μλ‹¤.

<br/>

### λ‹¤μ΄μ•„λ¬λ“ μ—°μ‚°μ

λ‹¤μ΄μ•„λ¬λ“ μ—°μ‚°μλ΅ μ½ν…μ¤νΈμ— λ”°λ¥Έ μ λ„¤λ¦­ ν•μ‹μ„ μ¶”λ΅ ν•  μ μλ‹¤.

```java
List<String> strings = new ArrayList<>();
List<Integer> integers = new ArrayList<>();
```

<br/>

### νΉλ³„ν• void νΈν™ κ·μΉ™

λλ‹¤μ λ°”λ””μ— μΌλ° ν‘ν„μ‹μ΄ μμΌλ©΄ voidλ¥Ό λ°ν™ν•λ” ν•¨μ λ””μ¤ν¬λ¦½ν„°μ™€ νΈν™λλ‹¤. (λ¬Όλ΅  νλΌλ―Έν„° λ¦¬μ¤νΈλ„ νΈν™λμ–΄μ•Ό ν•λ‹¤.)

μλ¥Ό λ“¤μ–΄, Listμ add λ©”μ„λ“λ” Consumer μ½ν…μ¤νΈκ°€ κΈ°λ€ν•λ” void λ€μ‹  booleanμ„ λ°ν™ν•μ§€λ§ μ ν¨ν•λ‹¤.

```java
Consumer<String> b = s -> list.add(s);
```

<br/>

### 3.5.3 ν•μ‹ μ¶”λ΅ 

μλ°” μ»΄νμΌλ¬λ” λλ‹¤ ν‘ν„μ‹μ΄ μ‚¬μ©λ μ½ν…μ¤νΈ(λ€μƒ ν•μ‹)μ„ μ΄μ©ν•΄μ„ λλ‹¤ ν‘ν„μ‹κ³Ό κ΄€λ ¨λ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ¶”λ΅ ν•λ‹¤.

μ¦‰, λ€μƒ ν•μ‹μ„ μ΄μ©ν•΄μ„ ν•¨μ λ””μ¤ν¬λ¦½ν„°λ¥Ό μ• μ μμΌλ―€λ΅ **μ»΄νμΌλ¬λ” λλ‹¤μ μ‹κ·Έλ‹μ²λ„ μ¶”λ΅ ν•  μ μλ‹¤.**

<br/>

e.g.

```java
// o1κ³Ό o2μ ν•μ‹μ„ μ¶”λ΅ ν•¨
Comparator<Apple> = (o1, o2) -> Integer.compare(o1.getWeight(), o2.getWeight());

// o1κ³Ό o2μ ν•μ‹μ„ μ¶”λ΅ ν•μ§€ μ•μ
Comparator<Apple> = (Apple o1, Apple o2) -> Integer.compare(o1.getWeight(), o2.getWeight());
```

μƒν™©μ— λ”°λΌ ν•μ‹μ„ ν¬ν•¨ν•λ” κ²ƒμ΄ μΆ‹μ„ λ•λ„ μκ³  λ°°μ ν•λ” κ²ƒμ΄ κ°€λ…μ„±μ„ ν–¥μƒμ‹ν‚¬ λ•λ„ μλ‹¤.

μ–΄λ–¤ λ°©λ²•μ΄ μΆ‹μ€μ§€ μ •ν•΄μ§„ κ·μΉ™μ€ μ—†λ‹¤.

<br/>

### 3.5.4 μ§€μ—­ λ³€μ μ‚¬μ©

λλ‹¤ ν‘ν„μ‹μ—μ„λ” μµλ… ν•¨μκ°€ ν•λ” κ²ƒμ²λΌ μμ  λ³€μ(νλΌλ―Έν„°κ°€ μ•„λ‹ μ™Έλ¶€μ—μ„ μ •μλ λ³€μ)λ¥Ό ν™μ©ν•  μ μλ‹¤.

μ΄μ™€ κ°™μ€ λ™μ‘μ„ **λλ‹¤ μΊ΅μ²λ§**μ΄λΌκ³  λ¶€λ¥Έλ‹¤.

<br/>

### μ§€μ—­ λ³€μμ μ μ•½

λλ‹¤μ—μ„ μ‚¬μ©ν•λ” μ§€μ—­λ³€μλ” finalλ΅ μ„ μ–Έλμ–΄μμ–΄μ•Ό ν•κ±°λ‚ μ‹¤μ§μ μΌλ΅ finalλ΅ μ„ μ–Έλ λ³€μμ™€ κ°™μ΄ μ‚¬μ©λμ–΄μ•Ό ν•λ‹¤.

λλ‹¤λ” λ©”μ„λ“μ™€ κ°™μ΄ λ³΄μ΄μ§€λ§ μ‹¤μ§μ μΌλ΅λ” ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• μΈμ¤ν„΄μ¤μ΄λ‹¤.

μΈμ¤ν„΄μ¤ λ³€μλ” ν™μ— μ €μ¥λλ” λ°λ©΄ μ§€μ—­ λ³€μλ” μ¤νƒμ— μ„μΉν•λ‹¤.

λλ‹¤μ—μ„ μ§€μ—­ λ³€μμ— λ°”λ΅ μ ‘κ·Όν•  μ μλ‹¤λ” κ°€μ •ν•μ— λλ‹¤κ°€ μ¤λ λ“μ—μ„ μ‹¤ν–‰λλ‹¤λ©΄ λ³€μλ¥Ό ν• λ‹Ήν• μ¤λ λ“κ°€ μ‚¬λΌμ Έμ„ λ³€μ ν• λ‹Ήμ΄ ν•΄μ λμ—λ”λ°λ„ λλ‹¤λ¥Ό μ‹¤ν–‰ν•λ” μ¤λ λ“μ—μ„λ” ν•΄λ‹Ή λ³€μμ— μ ‘κ·Όν•λ ¤ ν•  μ μλ‹¤.

λ”°λΌμ„ μλ°” κµ¬ν„μ—μ„λ” μ›λ λ³€μμ— μ ‘κ·Όμ„ ν—μ©ν•λ” κ²ƒμ΄ μ•„λ‹λΌ μμ  μ§€μ—­ λ³€μμ λ³µμ‚¬λ³Έμ„ μ κ³µν•λ‹¤.

μ΄ λ³µμ‚¬λ³Έμ€ κ°’μ΄ λ°”λ€μ§€ μ•μ•„μ•Ό ν•λ―€λ΅ final μ μ•½μ΄ μƒκΈ΄ κ²ƒμ΄λ‹¤.

λν• μ§€μ—­ λ³€μμ μ μ•½ λ•λ¬Έμ— μ™Έλ¶€ λ³€μλ¥Ό λ³€ν™”μ‹ν‚¤λ” μΌλ°μ μΈ λ…λ Ήν• ν”„λ΅κ·Έλλ° ν¨ν„΄μ— μ λ™μ„ κ±Έ μ μλ‹¤.

<br/>

e.g.

```java
int portNumber = 1337;
Runnable r = () -> System.out.println(portNumber);

// μ¤λ¥
portNumber = 31337;
```

<br/>

### ν΄λ΅μ €

ν΄λ΅μ €λ€ ν•¨μμ λΉ„μ§€μ—­ λ³€μλ¥Ό μμ λ΅­κ² μ°Έμ΅°ν•  μ μλ” ν•¨μμ μΈμ¤ν„΄μ¤λ¥Ό κ°€λ¦¬ν‚¨λ‹¤.

μλ¥Ό λ“¤μ–΄ ν΄λ΅μ €λ¥Ό λ‹¤λ¥Έ ν•¨μμ μΈμλ΅ μ „λ‹¬ν•  μ μλ‹¤.

ν΄λ΅μ €μ™€ λλ‹¤λ” λΉ„μ·ν• λ™μ‘μ„ μν–‰ν•λ‹¤.

λ‹¤λ§ λ‹¤λ¥Έ μ μ€ ν΄λ΅μ €λ” μ™Έλ¶€μ— μ •μλ λ³€μμ κ°’μ— μ ‘κ·Όν•κ³ , κ°’μ„ λ°”κΏ€ μ μμ§€λ§ μ„μ— μ„¤λ…ν–λ“― λλ‹¤λ” final λ³€μμ—λ§ μ ‘κ·Όν•  μ μμΌλ―€λ΅ κ°’μ„ λ°”κΏ€ μ μ—†λ‹¤.

λ•λ¶„μ— λλ‹¤λ” λ³€μκ°€ μ•„λ‹ κ°’μ— κµ­ν•λμ–΄ μ–΄λ–¤ λ™μ‘μ„ μν–‰ν•λ‹¤λ” μ‚¬μ‹¤μ΄ λ…ν™•ν•΄μ§„λ‹¤.

<br/>

## 3.6 λ©”μ„λ“ μ°Έμ΅°

λ©”μ„λ“ μ°Έμ΅°λ¥Ό μ΄μ©ν•λ©΄ κΈ°μ΅΄μ λ©”μ„λ“ μ •μλ¥Ό μ¬ν™μ©ν•΄μ„ λλ‹¤μ²λΌ μ „λ‹¬ν•  μ μλ‹¤.

e.g.

```java
inventory.sort((Apple o1,Apple o2) -> o1.getWeight().compareTo(o2.getWeight());

//λ©”μ„λ“ μ°Έμ΅° μ΄μ©
inventory.sort(comparing(Apple::getWeight));
```

<br/>

### 3.6.1 μ”μ•½

λ©”μ„λ“ μ°Έμ΅°λ” νΉμ • λ©”μ„λ“λ§μ„ νΈμ¶ν•λ” λλ‹¤μ μ¶•μ–‘ν•μ΄λΌκ³  μƒκ°ν•  μ μλ‹¤.

λ©”μ„λ“ μ°Έμ΅°λ¥Ό μ΄μ©ν•λ©΄ κΈ°μ΅΄ λ©”μ„λ“ κµ¬ν„μΌλ΅ λλ‹¤ ν‘ν„μ‹μ„ λ§λ“¤ μ μλ‹¤.

μ΄λ• λ…μ‹μ μΌλ΅ λ©”μ„λ“λ…μ„ μ°Έμ΅°ν•¨μΌλ΅μ¨ **κ°€λ…μ„±μ„ λ†’μΌ μ μλ‹¤.**

λ©”μ„λ“ λ… μ•μ— κµ¬λ¶„μ(::)λ¥Ό λ¶™μ΄λ” λ°©μ‹μΌλ΅ λ©”μ„λ“ μ°Έμ΅°λ¥Ό ν™μ©ν•  μ μλ‹¤.

<br/>

e.g.

```java
// λλ‹¤ ν‘ν„μ‹μ„ λ©”μ„λ“ μ°Έμ΅°ν•μΌλ΅ ν‘ν„
(Apple a) -> a.getWeight()
Apple::getWeight
```

<br/>

### λ©”μ„λ“ μ°Έμ΅°λ¥Ό λ§λ“λ” λ°©λ²•

<p align="center"><img width="400" src="https://user-images.githubusercontent.com/76640167/217036585-dfedc6e9-a392-4d52-b408-a4d6bb9b0c01.png"></p> 

1. μ •μ  λ©”μ„λ“ μ°Έμ΅°
    - μλ¥Ό λ“¤μ–΄ `Integer`μ `parseInt` λ©”μ„λ“λ” `Integer::parseInt`λ΅ ν‘ν„ν•  μ μλ‹¤.
2. λ‹¤μ–‘ν• ν•μ‹μ μΈμ¤ν„΄μ¤ λ©”μ„λ“ μ°Έμ΅°
    - μλ¥Ό λ“¤μ–΄ `String`μ `length` λ©”μ„λ“λ” `String::length`λ΅ ν‘ν„ν•  μ μλ‹¤.
    - μ΄λ¥Ό λλ‹¤ ν‘ν„μ‹μΌλ΅ λ‚νƒ€λ‚΄λ©΄ `(String s) -> s.length()` μ™€ κ°™λ‹¤.
3. κΈ°μ΅΄ κ°μ²΄μ μΈμ¤ν„΄μ¤ λ©”μ„λ“ μ°Έμ΅°
    - μλ¥Ό λ“¤μ–΄ `Transaction` κ°μ²΄λ¥Ό ν• λ‹Ή λ°›μ€ `expensiveTransaction` μ§€μ—­ λ³€μκ°€ μκ³ , `Transaction` κ°μ²΄μ—λ” `getValue` λ©”μ„λ“κ°€ μλ‹¤λ©΄, μ΄λ¥Ό `expensiveTransaction::getValue`λΌκ³  ν‘ν„ν•  μ μλ‹¤.
    - μ΄λ¥Ό λλ‹¤ ν‘ν„μ‹μΌλ΅ λ‚νƒ€λ‚΄λ©΄ `() β†’ expensiveTransaction.getValue()`μ™€ κ°™λ‹¤.

μ„Έλ²μ§Έ μ ν•μ λ©”μ„λ“ μ°Έμ΅°λ” λΉ„κ³µκ° ν—¬νΌ λ©”μ„λ“λ¥Ό μ •μν• μƒν™©μ—μ„ μ μ©ν•κ² ν™μ©ν•  μ μλ‹¤.

μ»΄νμΌλ¬λ” λλ‹¤ ν‘ν„μ‹μ ν•μ‹μ„ κ²€μ‚¬ν•λ λ°©μ‹κ³Ό λΉ„μ·ν• κ³Όμ •μΌλ΅ λ©”μ„λ“ μ°Έμ΅°κ°€ μ£Όμ–΄μ§„ ν•¨μν• μΈν„°νμ΄μ¤μ™€ νΈν™λλ”μ§€ ν™•μΈν•λ‹¤.

μ¦‰, ν•΄λ‹Ή λ©”μ„λ“ μ°Έμ΅°μ νλΌλ―Έν„° λ¦¬μ¤νΈμ™€ λ°ν™κ°’ νƒ€μ…μ„ ν™•μΈν•΄ μ½ν…μ¤νΈ(ν•¨μν• μΈν„°νμ΄μ¤)μ™€ μΌμΉν•μ—¬μ•Ό ν•λ‹¤.

<br/>

e.g.

```java
// λΉ„κ³µκ° ν—¬νΌ λ©”μ„λ“
private boolean isValidName(String string) {
    return Character.isUpperCase(string.charAt(0));
}

// λ©”μ„λ“ μ°Έμ΅°
filter(result,this::isValidName)
```

```java
// Listμ— ν¬ν•¨λ λ¬Έμμ—΄μ„ λ€μ†λ¬Έμλ¥Ό κµ¬λ¶„ν•μ§€ μ•κ³  μ •λ ¬ν•λ” ν”„λ΅κ·Έλ¨
// sort λ©”μ„λ“λ” μΈμλ΅ Comparator μΈν„°νμ΄μ¤λ¥Ό κ°–λ”λ°, μ΄λ” (T,T) -> int ν•¨μ λ””μ¤ν¬λ¦½ν„°λ¥Ό κ°–λ”λ‹¤.
List<String> strings = Arrays.asList("A","b","a","B");
str.sort((s1,s2) -> s1.compareToIgnoreCase(s2));

// λ©”μ„λ„ μ°Έμ΅°λ΅ κ°„λ‹¨ν λ§λ“ λ‹¤.
str.sort(String::compareToIgnoreCase);
```

<br/>

### 3.6.2 μƒμ„±μ μ°Έμ΅°

Class::new μ²λΌ ν΄λμ¤λ…κ³Ό new ν‚¤μ›λ“λ¥Ό μ΄μ©ν•΄μ„ κΈ°μ΅΄ μƒμ„±μμ μ°Έμ΅°λ¥Ό λ§λ“¤ μ μλ‹¤.

1. μΈμκ°€ μ—†λ” μƒμ„±μ

```java
// λλ‹¤ ν‘ν„μ‹
// Supplier<T>λ” ()->T μ™€ κ°™μ€ λ©”μ„λ“ μ‹κ·Έλ‹μ²λ¥Ό κ°–λ”λ‹¤.
Supplier<Apple> c1 = () -> new Apple();
Apple apple = c1.get();

// λ©”μ„λ“ μ°Έμ΅°
Supplier<Apple> c1 = Apple::new;
Apple apple = c1.get();
```

<br/>

2. Apple(Integer weight) μ‹κ·Έλ‹μ²λ¥Ό κ°–λ” μƒμ„±μ

```java
// λλ‹¤ ν‘ν„μ‹
// Function<T, R>μ€ (T) -> R κ³Ό κ°™μ€ λ©”μ„λ“ μ‹κ·Έλ‹μ²λ¥Ό κ°–λ”λ‹¤.
// μ¦‰ Integerλ¥Ό μΈμλ΅ λ°›μ•„ μƒλ΅μ΄ κ°μ²΄λ¥Ό μƒμ„±ν•λ” new Apple(Integer weight)μ™€ μ‹κ·Έλ‹μ²κ°€ μΌμΉν•λ‹¤.
Function<Integer, Apple> c2 = (weight) -> new Apple(weight);
Apple apple2 = c2.apply(100);

// λ©”μ„λ“ μ°Έμ΅°
Function<Integer, Apple> c2 = Apple::new;
Apple apple2 = c2.apply(100); 
```

μ„ Function μƒμ„±μ μ°Έμ΅°λ¥Ό ν†µν•΄ κ°„νΈν•κ² λ‹¤μ–‘ν• λ¬΄κ²λ¥Ό ν¬ν•¨ν•λ” μ‚¬κ³Ό λ¦¬μ¤νΈλ¥Ό λ§λ“¤ μ μλ‹¤.

```java
List<Integer> weights = Arrays.asList(1, 2, 3, 4);
List<Apple> apples = map(weights, Apple::new);

// μ „μ— λ§λ“¤μ—λ Funtionμ„ μ΄μ©ν•μ—¬ T λ¦¬μ¤νΈλ¥Ό μ΄μ©ν•μ—¬ R λ¦¬μ¤νΈλ¥Ό λ§λ“¤μ–΄λ‚΄λ” ν•¨μ
public static <T, R> List<R> map(List<T> list, Function<T, R> f) {
    List<R> result = new ArrayList<>();
    for (T t : list) {
        result.add(f.apply(t));
    }
    return result;
}
```

<br/>

3. Apple(String color, Integer weight) μ‹κ·Έλ‹μ²λ¥Ό κ°–λ” μƒμ„±μ

```java
// λλ‹¤ ν‘ν„μ‹
// BiFunction<T, U, R>μ€ (T,U) -> R κ³Ό κ°™μ€ λ©”μ„λ“ μ‹κ·Έλ‹μ²λ¥Ό κ°–λ”λ‹¤.
// μ¦‰ Integerμ™€ Colorλ¥Ό μΈμλ΅ λ°›μ•„ μƒλ΅μ΄ κ°μ²΄λ¥Ό μƒμ„±ν•λ” new Apple(String color, Integer weight)μ™€ μ‹κ·Έλ‹μ²κ°€ μΌμΉν•λ‹¤.
BiFunction<Color ,Integer, Apple> c3 = (color, integer) -> new Apple(color,integer);
Apple apple3 = c3.apply(Color.RED,100);

// λ©”μ„λ“ μ°Έμ΅°
BiFunction<Color ,Integer, Apple> c3 = Apple::new;
Apple apple3 = c3.apply(Color.RED,100); 
```

<br/>

4. μΈμ¤ν„΄μ¤ν™” ν•μ§€μ•κ³ λ„ μƒμ„±μμ— μ ‘κ·Όν•λ” κΈ°λ¥

```java
// μƒμ„±ν•λ” κΈ°λ¥λ“¤λ§ κµ¬ν„
static Map<String , Function<Integer, Fruit>> map = new HashMap<>();
static {
    map.put("apple", Apple::new);
}

// apply λ©”μ„λ“μ— μ •μ νλΌλ―Έν„°λ¥Ό μ κ³µν•΄μ„ μ‹¤μ  μΈμ¤ν„΄μ¤ μƒμ„±
public static Fruit getFruit(String fruit, Integer weight) {
    return map.get(fruit.toLowerCase()).apply(weight);
}
```

<br/>

## 3.7 λλ‹¤, λ©”μ„λ“ μ°Έμ΅° ν™μ©ν•κΈ°

μ‚¬κ³Ό λ¦¬μ¤νΈ μ •λ ¬ λ¬Έμ λ¥Ό λ©”μ„λ“ μ°Έμ΅°λ΅ μµμΆ… λ³€κ²½ν•΄λ³΄μ

λ©ν‘ μ½”λ“λ” λ‹¤μκ³Ό κ°™λ‹¤.

```java
inventory.sort(comparing(Apple::getWeight));
```

<br/>

### 3.7.1 1λ‹¨κ³„ : μ½”λ“ μ „λ‹¬

sort λ©”μ„λ“λ” λ‹¤μκ³Ό κ°™μ€ ν•¨μ μ‹κ·Έλ‹μ²λ¥Ό κ°–λ”λ‹¤.

```java
void sort(Comparator<? super E> c)
```

μ •λ ¬ μ „λµμ΄ κµ¬ν„λμ–΄μλ” Comparator κ°μ²΄λ¥Ό μΈμλ΅ λ°›μ•„ λ‘μ‚¬κ³Όλ¥Ό λΉ„κµν•λ‹¤.

<br/>

1λ‹¨κ³„μ μ½”λ“λ” λ‹¤μκ³Ό κ°™μ΄ μ™„μ„±ν•  μ μλ‹¤.

```java
static class AppleComparator implements Comparator<Apple> {
  @Override
  public int compare(Apple a1, Apple a2) {
    return a1.getWeight() - a2.getWeight();
  }
}

inventory.sort(new AppleComparator());
```

<br/>

### 3.7.2 2λ‹¨κ³„ : μµλ… ν΄λμ¤ μ‚¬μ©

AppleComparatorλ” ν•λ²λ§ μ‚¬μ©λλ―€λ΅ λ‹¤μκ³Ό κ°™μ΄ μµλ… ν΄λμ¤λ΅ κµ¬ν„ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.

```java
inventory.sort(new Comparator<Apple>() {
    @Override
    public int compare(Apple a1, Apple a2) {
      return a1.getWeight() - a2.getWeight();
    }
});
```

### 3.7.3 3λ‹¨κ³„ : λλ‹¤ ν‘ν„μ‹ μ‚¬μ©

Comparatorλ” ν•¨μν• μΈν„°νμ΄μ¤μ΄κΈ° λ•λ¬Έμ— λλ‹¤ ν‘ν„μ‹μ„ μ‚¬μ©ν•  μ μλ‹¤.

Compartatorμ ν•¨μ λ””μ¤ν¬λ¦½ν„°λ” `<T,T> -> int` μ΄κ³ , μ°λ¦¬λ” μ‚¬κ³Όλ¥Ό λΉ„κµν•  κ²ƒμ΄λ―€λ΅ λλ‹¤ ν‘ν„μ‹μ μ‹κ·Έλ‹μ²λ¥Ό `<Apple, Apple> -> int` λ΅ ν‘ν„ν•  μ μλ‹¤.

```java
inventory.sort((Apple a1, Apple a2) -> a1.getWeight() - a2.getWeight());

// μλ°” μ»΄νμΌλ¬λ” ν•μ‹μ„ μ¶”λ΅ ν•λ‹¤. 
// μ¦‰, μ»΄νμΌλ¬κ°€ inventory λ‚΄λ¶€ μ›μ†μ μλ£ν•μ΄ Appleμ„μ„ μ•κ²λμ–΄ a1κ³Ό a2μ ν•μ‹μ„ μ§€μ •ν•μ§€ μ•μ•„λ„ λ¨.
inventory.sort((a1, a2) -> a1.getWeight() - a2.getWeight());
```

<br/>

Comparatorλ” Comparable ν‚¤λ¥Ό μ¶”μ¶ν•΄μ„ Comparator κ°μ²΄λ΅ λ§λ“λ” Function ν•¨μλ¥Ό μΈμλ΅ λ°›λ” μ •μ  λ©”μ„λ“ comparingμ„ ν¬ν•¨ν•λ‹¤.

```java
//comparing λ©”μ†λ“λ” λΉ„κµν•λ”λ° μ‚¬μ©λ  κ°’μ„ Function<T,R> μΈν„°νμ΄μ¤λ΅ λ°›μ•„μ„ Comparatorλ¥Ό λ°ν™
Comparator<Apple> c = Comparator.comparing((Apple a) -> a.getWeight());

// c λ³€μλ¥Ό μƒμ„±ν•΄ λ„£μ–΄λ„ λμ§€λ§ μ•„λμ²λΌ ν•μ¤„λ΅ κ°„μ†ν™”ν•λ‹¤.
inventory.sort(comparing(apple -> apple.getWeight()));
```

<br/>

### 3.7.4 4λ‹¨κ³„ : λ©”μ„λ“ μ°Έμ΅° μ‚¬μ©

λλ‹¤ ν‘ν„μ‹μ„ λ©”μ„λ“ μ°Έμ΅°λ΅ λ³€κ²½ν•  μ μλ‹¤.

```java
inventory.sort(comparing(Apple::getWeight));
```

<br/>

## 3.8 λλ‹¤ ν‘ν„μ‹μ„ μ΅°ν•©ν•  μ μλ” μ μ©ν• λ©”μ„λ“

μλ°” 8 APIμ ν•¨μν• μΈν„°νμ΄μ¤λ” λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ΄μ©ν•μ—¬ λ‹¤μ–‘ν• μ ν‹Έλ¦¬ν‹° λ©”μ„λ“λ¥Ό μ κ³µν•λ‹¤.

μλ¥Ό λ“¤μ–΄, `Comparator`, `Function`, `Predicate` κ°™μ€ ν•¨μν• μΈν„°νμ΄μ¤λ” λλ‹¤ ν‘ν„μ‹μ„ μ΅°ν•©ν•  μ μλ„λ΅ μ ν‹Έλ¦¬ν‹° λ©”μ„λ“λ¥Ό μ κ³µν•λ‹¤.

<br/>

### 3.8.1 Comparator μ΅°ν•©

1. μ—­μ •λ ¬

`Comparator` μΈν„°νμ΄μ¤λ” μ£Όμ–΄μ§„ λΉ„κµμμ μμ„λ¥Ό λ’¤λ°”κΎΈλ” `reverse`λΌλ” λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ κ³µν•λ‹¤.

```java
inventory.sort(comparing(Apple::getWeight).reversed());
```

<br/>

2. `Comperator` μ—°κ²°

μ •λ ¬ μ‹ λ¬΄κ²κ°€ κ°™λ‹¤λ©΄ μ–΄λ–»κ² ν•΄μ•Όν• κΉ?

μ΄λ΄ λ• λΉ„κµ κ²°κ³Όλ¥Ό λ” λ‹¤λ“¬μ„ μ μλ” λ‘λ²μ§Έ `Comparator`λ¥Ό λ§λ“¤ μ μλ‹¤.

`theComparing` λ©”μ„λ“λ΅ λ‘λ²μ§Έ λΉ„κµμλ¥Ό λ§λ“¤ μ μλ‹¤.

`theComparing`μ€ ν•¨μλ¥Ό μΈμλ΅ λ°›μ•„ μ²« λ²μ§Έ λΉ„κµμλ¥Ό μ΄μ©ν•΄μ„ λ‘ κ°μ²΄κ°€ κ°™λ‹¤κ³  νλ‹¨λλ©΄ λ‘λ²μ§Έ λΉ„κµμμ— κ°μ²΄λ¥Ό μ „λ‹¬ν•λ‹¤.

```java
// λ¬΄κ²κ°€ κ°™μΌλ©΄ μƒ‰κΉ”λ³„λ΅ μ •λ ¬
inventory.sort(comparing(Apple::getWeight).reversed().theComparing(Apple::getColor));
```

<br/>

### 3.8.2 Predicate μ΅°ν•©

`Predicate` μΈν„°νμ΄μ¤λ” λ³µμ΅ν• ν”„λ λ””μΌ€μ΄νΈλ¥Ό λ§λ“¤ μ μλ„λ΅ `negate`, `and`, `or` μ„Έκ°€μ§€ λ©”μ„λ“λ¥Ό μ κ³µν•λ‹¤.

```java
Predicate<Apple> redApple = (a) -> a.getColor() == Color.RED;

// λΉ¨κ°„ μ‚¬κ³Όκ°€ μ•„λ‹ μ‚¬κ³Ό
// Predicate κ²°κ³Όμ— notμ„ μ”μ΄λ‹¤.
redApple.negate();

// λΉ¨κ°„ μ‚¬κ³Όμ΄λ©΄μ„ 150κ·Έλ¨ μ΄μƒμΈ μ‚¬κ³Ό
redApple.and(apple -> apple.getWeight() > 150);

// λΉ¨κ°„ μ‚¬κ³Όμ΄λ©΄μ„ 150κ·Έλ¨ μ΄μƒμΈ μ‚¬κ³Ό μ΄κ±°λ‚ μ΄λ΅ μ‚¬κ³Ό
redApple.and(apple -> apple.getWeight() > 150).or(a ->a.getColor() == Color.GREEN);
```

<br/>

### 3.8.3 Function μ΅°ν•©

`Function` μΈν„°νμ΄μ¤λ” `Function` μΈμ¤ν„΄μ¤λ¥Ό λ°ν™ν•λ” `andThen`, `compose` λ‘ κ°€μ§€ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ κ³µν•λ‹¤.

<br/>

andThen λ©”μ„λ“λ” μ£Όμ–΄μ§„ ν•¨μλ¥Ό λ¨Όμ € μ μ©ν• κ²°κ³Όλ¥Ό λ‹¤λ¥Έ ν•¨μμ μ…λ ¥μΌλ΅ μ „λ‹¬ν•λ” ν•¨μλ¥Ό λ°ν™ν•λ‹¤.

```java
Function<Integer, Integer> f = x -> x + 1;
Function<Integer, Integer> g = x -> x *2;
Function<Integer, Integer> h = f.andThen(g);
// κ²°κ³Όλ” 4 μ¦‰, g(f(x))κ°€ μν–‰λλ‹¤.
h.apply(1);
```

<br/>

compose λ©”μ„λ“λ” μΈμλ΅ μ£Όμ–΄μ§„ ν•¨μλ¥Ό λ¨Όμ € μ‹¤ν–‰ν• λ‹¤μμ— κ·Έ κ²°κ³Όλ¥Ό μ™Έλ¶€ ν•¨μμ μΈμλ΅ μ κ³µν•λ‹¤.

```java
Function<Integer, Integer> f = x -> x + 1;
Function<Integer, Integer> g = x -> x *2;
Function<Integer, Integer> h = f.compose(g);
// κ²°κ³Όλ” 3 μ¦‰, f(g(x))κ°€ μν–‰λλ‹¤.
h.apply(1);
```